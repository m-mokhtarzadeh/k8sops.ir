<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Checking Pod with liveness probe in Kubernetes - Kubernetes Operations Documents</title><meta name=description content="This Weblog Just Created For Kubernetes Operations Challenges"><meta name=generator content="Hugo 0.109.0"><link href=https://k8sops.ir//index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://k8sops.ir/session6/liveness_probe/><link rel=stylesheet href=https://k8sops.ir/css/theme.min.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script>
<link rel=stylesheet href=https://k8sops.ir/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script>
<script src=https://k8sops.ir/js/bundle.js></script><style>:root{--custom-font-color:#a9a9b3;--custom-background-color:#292a2d}</style><meta property="og:title" content="Checking Pod with liveness probe in Kubernetes"><meta property="og:description" content="With liveness probe Kubernetes can check a container is still alive.
Following example is a HTTP Get liveness probe.
apiVersion: v1 kind: Pod metadata: name: app spec: containers: - name: app image: k8sops-pod-example ports: - containerPort: 80 # Following lines were added livenessProbe: httpGet: path: / port: 80 initialDelaySeconds: 15 Kubernetes can probe a container using one of the three mechanisms:
HTTP Get TCP Socket Exec initialDelaySeconds Kubernetes with this option will wait 15 seconds before executing the first probe."><meta property="og:type" content="article"><meta property="og:url" content="https://k8sops.ir/session6/liveness_probe/"><meta property="og:image" content="https://k8sops.ir/images/kops.jpg"><meta property="article:section" content="session6"><meta property="article:published_time" content="2023-01-14T16:34:00+00:00"><meta property="article:modified_time" content="2023-01-14T16:34:00+00:00"><meta property="og:site_name" content="Kubernetes Operations"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://k8sops.ir/images/kops.jpg"><meta name=twitter:title content="Checking Pod with liveness probe in Kubernetes"><meta name=twitter:description content="With liveness probe Kubernetes can check a container is still alive.
Following example is a HTTP Get liveness probe.
apiVersion: v1 kind: Pod metadata: name: app spec: containers: - name: app image: k8sops-pod-example ports: - containerPort: 80 # Following lines were added livenessProbe: httpGet: path: / port: 80 initialDelaySeconds: 15 Kubernetes can probe a container using one of the three mechanisms:
HTTP Get TCP Socket Exec initialDelaySeconds Kubernetes with this option will wait 15 seconds before executing the first probe."><meta itemprop=name content="Checking Pod with liveness probe in Kubernetes"><meta itemprop=description content="With liveness probe Kubernetes can check a container is still alive.
Following example is a HTTP Get liveness probe.
apiVersion: v1 kind: Pod metadata: name: app spec: containers: - name: app image: k8sops-pod-example ports: - containerPort: 80 # Following lines were added livenessProbe: httpGet: path: / port: 80 initialDelaySeconds: 15 Kubernetes can probe a container using one of the three mechanisms:
HTTP Get TCP Socket Exec initialDelaySeconds Kubernetes with this option will wait 15 seconds before executing the first probe."><meta itemprop=datePublished content="2023-01-14T16:34:00+00:00"><meta itemprop=dateModified content="2023-01-14T16:34:00+00:00"><meta itemprop=wordCount content="128"><meta itemprop=image content="https://k8sops.ir/images/kops.jpg"><meta itemprop=keywords content></head><body><div class=container><header><h1>Kubernetes Operations Documents</h1><p class=description>This Weblog Just Created For Kubernetes Operations Challenges</p></header><div class=global-menu><nav><ul><li><a href=/>Home</a></li><li><a href=https://m-mokhtarzadeh.ir/>About Me</a></li></ul></nav></div><div class=content-container><main><h1>Checking Pod with liveness probe in Kubernetes</h1><hr><p>With liveness probe Kubernetes can check a container is still alive.<br>Following example is a HTTP Get liveness probe.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>app</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>app</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>k8sops-pod-example</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Following lines were added</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>livenessProbe</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>httpGet</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>path</span>: <span style=color:#ae81ff>/</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>port</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>initialDelaySeconds</span>: <span style=color:#ae81ff>15</span>
</span></span></code></pre></div><p>Kubernetes can probe a container using one of the three mechanisms:</p><ul><li>HTTP Get</li><li>TCP Socket</li><li>Exec</li></ul><p><code>initialDelaySeconds</code> Kubernetes with this option will wait 15 seconds before executing the first probe.<br>You can create a file with .yml extension and paste the above yml manifest and use kubectl to create a simple Nginx Pod resource with liveness probe support.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl apply -f liveness-example.yml
</span></span></code></pre></div><p>You can also create the above resource directly from the site content.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl apply -f https://k8sops.ir/session6/liveness-example.yml
</span></span></code></pre></div><div class=edit-meta>Last updated on 14 Jan 2023<br>Published on 14 Jan 2023<br></div><nav class=pagination><a class="nav nav-prev" href=https://k8sops.ir/session6/expain_pod_manifest/ title="Explaining Pod manifest structure"><i class="fas fa-arrow-left" aria-hidden=true></i> Prev - Explaining Pod manifest structure</a>
<a class="nav nav-next" href=https://k8sops.ir/session6/simple_pod/ title="Creating a simple Pod in Kubernetes">Next - Creating a simple Pod in Kubernetes <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=slide-menu><ul><li><a href=https://k8sops.ir/>Home</a></li><li class=has-sub-menu><a href=https://k8sops.ir/session1/>Session 1<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://k8sops.ir/session1/scratch/>Create Lab from scratch on oracle linux</a></li><li><a href=https://k8sops.ir/session1/scratch_ubuntu/>Create Lab from scratch on ubuntu 22.04</a></li><li><a href=https://k8sops.ir/session1/ova/>Create Lab with OVA file</a></li><li><a href=https://k8sops.ir/session1/vagrant/>Create Lab with Vagrant</a></li></ul></li><li class="parent has-sub-menu"><a href=https://k8sops.ir/session6/>Session 6<span class="mark opened">-</span></a><ul class=sub-menu><li><a href=https://k8sops.ir/session6/simple_pod/>Creating a simple Pod in Kubernetes</a></li><li><a href=https://k8sops.ir/session6/expose_port/>Exposing port from simple Pod in Kubernetes</a></li><li><a href=https://k8sops.ir/session6/expain_pod_manifest/>Explaining Pod manifest structure</a></li><li class=active><a href=https://k8sops.ir/session6/liveness_probe/>Checking Pod with liveness probe in Kubernetes</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>